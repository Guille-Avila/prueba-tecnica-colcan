<div class="container-form">
  <form [formGroup]="formUser" class="user-form">
    <h2 style="margin-bottom: 40px;">Registrar usaurio:</h2>
    <div class="form-group">
      <label for="name">Nombre</label>
      <input
        id="name"
        formControlName="name"
        type="text"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            formUser.get('name')?.invalid && formUser.get('name')?.touched
        }"
      />
      <div
        *ngIf="formUser.get('name')?.invalid && formUser.get('name')?.touched"
        class="invalid-feedback"
      >
        El nombre es obligatorio.
      </div>
    </div>

    <div class="form-group">
      <label for="email">Correo</label>
      <input
        id="email"
        formControlName="email"
        type="email"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            formUser.get('email')?.invalid && formUser.get('email')?.touched
        }"
      />
      <div
        *ngIf="formUser.get('email')?.hasError('required') && formUser.get('email')?.touched"
        class="invalid-feedback"
      >
        El correo es obligatorio.
      </div>
      <div
        *ngIf="formUser.get('email')?.hasError('email') && formUser.get('email')?.touched"
        class="invalid-feedback"
      >
        Ingresa un correo válido.
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Teléfono</label>
      <input
        id="phone"
        formControlName="phone"
        type="text"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            formUser.get('phone')?.invalid && formUser.get('phone')?.touched
        }"
      />
      <div
        *ngIf="formUser.get('phone')?.hasError('required') && formUser.get('phone')?.touched"
        class="invalid-feedback"
      >
        El teléfono es obligatorio.
      </div>
      <div
        *ngIf="formUser.get('phone')?.hasError('pattern') && formUser.get('phone')?.touched"
        class="invalid-feedback"
      >
      El teléfono debe contener solo números.
      </div>
    </div>

    <div class="form-group">
      <label for="address">Dirección</label>
      <input
        id="address"
        formControlName="address"
        type="text"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            formUser.get('address')?.invalid && formUser.get('address')?.touched
        }"
      />
      <div
        *ngIf="formUser.get('address')?.invalid && formUser.get('address')?.touched"
        class="invalid-feedback"
      >
        La dirección es obligatoria.
      </div>
    </div>

    <div style="width: 100%; margin: auto; text-align: center;">
        <button class="btn-cancel" (click)="navToHome()">
        Cancelar
      </button>
      <button type="submit" class="btn-submit" (click)="validFormUser()"
      [ngClass]="{'disabled': formUser.invalid}">
        Enviar
      </button>
    </div>
  </form>
</div>

<div *ngIf="showModal" class="modal-overlay" (click)="navToHome()">
    <div class="modal-success" (click)="$event.stopPropagation()">
        <h3 style="margin-top: 10px;">Se ha creado usuario exitosamente</h3>
        <button type="submit" class="btn-submit" (click)="navToHome()">
        Aceptar
        </button>
    </div>
</div>
